!function(){"use strict";var e=e=>{e.preventDefault();const t=e.target.href.indexOf("#");document.querySelector(e.target.href.slice(t)).scrollIntoView({behavior:"smooth"},!0)},t=({formId:e,someElement:t=[]})=>{const o=document.getElementById(e),r=document.createElement("div");try{if(!o)throw new Error("Форма отсутствует!");o.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=o.querySelectorAll("input"),n=new FormData(o);let a={};var l;r.textContent="Загрузка...",o.append(r),n.forEach(((e,t)=>{a[t]=e})),t.forEach((e=>{const t=document.getElementById(e.id);"block"===e.type?a[e.id]=t.textContent:"input"===e.type&&(a[e.id]=t.value)})),(e=>{let t=!0;const o=/[^\d\+\(\)-]/g,r=/[^а-я- ]/gi,n=/[^а-я- \,\.\:\;\'\"\@\%\(\)]/gi;return e.forEach((e=>{("user_phone"===e.name&&o.test(e.value)||"user_name"===e.name&&r.test(e.value)||"user_message"===e.name&&n.test(e.value))&&(t=!1)})),t})(e)?(l=a,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{r.textContent="Спасибо! Наш менеджер свяжется с вами.",e.forEach((e=>{e.value=""}))})).catch((e=>{r.textContent="Ошибка",console.log(e.message)})):alert("Данные не валидны!")})()}))}catch(e){console.log(e.message)}};(e=>{const t=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),r=document.querySelector("#timer-seconds"),n=e=>(new Date(e).getTime()-(new Date).getTime())/1e3,a=e=>e<=0?"00":e<10&&e>0?"0"+e:e;let l=setInterval((()=>{n(e)<=1&&clearInterval(l),(()=>{let l=(()=>{let t=n(e);return{timeRemaining:t,hours:Math.floor(t/60/60),minutes:Math.floor(t/60%60),seconds:Math.floor(t%60)}})();t.textContent=a(l.hours),o.textContent=a(l.minutes),r.textContent=a(l.seconds)})()}),1e3)})("28 september 2023 23:59"),(()=>{const t=document.querySelector("menu"),o=(document.querySelector("main"),()=>{t.classList.toggle("active-menu")});document.addEventListener("click",(r=>{r.target.matches("menu li>a")?(o(),e(r)):r.target.matches("a.close-btn")||r.target.closest(".menu")?o():r.target.matches("main>a")?e(r):!r.target.closest("menu")&&t.classList.contains("active-menu")&&o()}))})(),(()=>{const e=document.querySelectorAll(".popup-btn"),t=document.querySelector(".popup"),o=t.querySelector(".popup-content");let r=(n=function(e){for(let t=0,o=1;;t+=o,o/=2)if(e>=(7-4*t)/11)return-Math.pow((11-6*t-11*e)/4,2)+Math.pow(o,2)},function(e){return 1-n(1-e)});var n;e.forEach((e=>{e.addEventListener("click",(()=>{var e;t.style.display="block",e=o,innerWidth>768&&(e.style.transform="translateY(-50%)",function({timing:e,draw:t,duration:o}){let r=performance.now();requestAnimationFrame((function n(a){let l=(a-r)/o;l>1&&(l=1);let c=e(l);t(c),l<1&&requestAnimationFrame(n)}))}({duration:1e3,timing:r,draw(t){e.style.top=50*t+"%"}}))}))})),t.addEventListener("click",(e=>{e.target.closest(".popup-content")&&!e.target.closest(".popup-close")||(t.style.display="none")}))})(),(()=>{const e=document.querySelectorAll(".calc-block>input[type=text]"),t=document.querySelectorAll(".form-name-validation"),o=document.querySelectorAll(".form-email"),r=document.querySelectorAll(".form-phone"),n=/[^\d]/g,a=/[^а-я -]/gi,l=/[^\w\d@-_\.\!\~\*\']/gi,c=/[^\d()-]/gi,s=(e,t)=>{e.addEventListener("input",(o=>{e.value=e.value.replace(t,""),e.value&&e.value.match(/  /g)&&e.value.match(/  /g).length>0&&(e.value=e.value.slice(0,e.value.length-1))}))};e.forEach((e=>{s(e,n)})),t.forEach((e=>{s(e,a)})),o.forEach((e=>{s(e,l)})),r.forEach((e=>{s(e,c)}))})(),(()=>{const e=document.querySelectorAll(".service-tab"),t=document.querySelectorAll(".service-header-tab");document.querySelector(".service-header").addEventListener("click",(o=>{if(o.target.closest(".service-header-tab")){const r=o.target.closest(".service-header-tab");t.forEach(((t,o)=>{t===r?(t.classList.add("active"),e[o].classList.remove("d-none")):(t.classList.remove("active"),e[o].classList.add("d-none"))}))}}))})(),(({sliderBlockClass:e,slideClass:t,slideActiveClass:o="slide-active",arrowClass:r,arrowLeftId:n="left",arrowRighttId:a="right",dotsBlockClass:l,dotClass:c,dotActiveClass:s="dot-active",timeInterval:i=2e3})=>{const u=document.querySelector(`.${e}`),d=document.querySelectorAll(`.${t}`),m=document.querySelector(`.${l}`);let v,h,f=0;if(null===u||null===d)return;const g=(e,t,o)=>{e[t].classList.remove(o)},p=(e,t,o)=>{e[t].classList.add(o)},y=()=>{g(d,f,o),g(v,f,s),f++,f>=d.length&&(f=0),p(d,f,o),p(v,f,s)},q=(e=1500)=>{h=setInterval(y,e)};u.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(`.${c}, .${r}`)&&(g(d,f,o),g(v,f,s),e.target.matches(`#${a}`)?f++:e.target.matches(`#${n}`)?f--:e.target.classList.contains(c)&&v.forEach(((t,o)=>{t===e.target&&(f=o)})),f>=d.length&&(f=0),f<0&&(f=d.length-1),p(d,f,o),p(v,f,s))})),u.addEventListener("mouseenter",(e=>{e.target.matches(`.${c}, .${r}`)&&clearInterval(h)}),!0),u.addEventListener("mouseleave",(e=>{e.target.matches(`.${c}, .${r}`)&&q(i)}),!0),d.forEach((()=>{m.innerHTML=m.innerHTML+`<li class="${c}"></li>`})),v=document.querySelectorAll(`.${c}`),v[0].classList.add(s),q(i)})({sliderBlockClass:"portfolio-content",slideClass:"portfolio-item",slideActiveClass:"portfolio-item-active",arrowClass:"portfolio-btn",arrowLeftId:"arrow-left",arrowRighttId:"arrow-right",dotsBlockClass:"portfolio-dots",dotClass:"dot",dotActiveClass:"dot-active",timeInterval:2e3}),((e=100)=>{const t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),n=document.querySelector(".calc-count"),a=document.querySelector(".calc-day"),l=document.querySelector("#total"),c=(e,t,o,r=100)=>{const n=setInterval((()=>{t+=r,e.innerText=t,t>=o-r&&(e.innerText=o,clearInterval(n))}),1)};t.addEventListener("change",(t=>{o.value&&r.value&&(()=>{const t=+l.innerText,s=(()=>{let t=1,l=1;return n.value>1&&(t+=+n.value/10),a.value&&a.value<5?l=2:a.value&&a.value<10&&(l=1.5),e*+o.value*+r.value*t*l})();t<s?c(l,t,s):t>s&&c(l,s,t)})()}))})(),t({formId:"form1",someElement:[{type:"block",id:"total"}]}),t({formId:"form2"}),t({formId:"form3"})}();